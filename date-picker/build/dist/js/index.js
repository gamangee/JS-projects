var o=Object.defineProperty;var c=(n,e,t)=>e in n?o(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var l=(n,e,t)=>(c(n,typeof e!="symbol"?e+"":e,t),t),d=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},s=(n,e,t)=>(d(n,e,"read from private field"),t?t.call(n):e.get(n)),r=(n,e,t,i)=>(d(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t);var a;class DatePicker{constructor(){l(this,"monthData",["January","February","March","April","May","June","July","August","September","October","November","December"]);a.set(this,{data:"",date:0,month:0,year:0});l(this,"selectedDate",{data:"",date:0,month:0,year:0});l(this,"datePickerEl");l(this,"dateInputEl");l(this,"calendarMonthEl");l(this,"montnContentEl");l(this,"nextBtnEl");l(this,"prevBtnEl");l(this,"calendarDatesEl");this.initCalendarDate(),this.initSelectedDate(),this.assignElement(),this.setDateInput(),this.addEvent()}initSelectedDate(){this.selectedDate={...s(this,a)}}setDateInput(){this.dateInputEl.textContent=this.formateDate(this.selectedDate.data),this.dateInputEl.dataset.value=this.selectedDate.data}initCalendarDate(){const e=new Date,t=e.getDate(),i=e.getMonth(),h=e.getFullYear();r(this,a,{data:e,date:t,month:i,year:h})}assignElement(){this.datePickerEl=document.getElementById("date-picker"),this.dateInputEl=this.datePickerEl.querySelector("#date-input"),this.calendarEl=this.datePickerEl.querySelector("#calendar"),this.calendarMonthEl=this.calendarEl.querySelector("#month"),this.monthContentEl=this.calendarMonthEl.querySelector("#content"),this.nextBtnEl=this.calendarMonthEl.querySelector("#next"),this.prevBtnEl=this.calendarMonthEl.querySelector("#prev"),this.calendarDatesEl=this.calendarEl.querySelector("#dates")}addEvent(){this.dateInputEl.addEventListener("click",this.toggleCalendar.bind(this)),this.nextBtnEl.addEventListener("click",this.moveToNextMonth.bind(this)),this.prevBtnEl.addEventListener("click",this.moveToPrevMonth.bind(this)),this.calendarDatesEl.addEventListener("click",this.onClickSelectDate.bind(this))}onClickSelectDate(e){const t=e.target;t.dataset.date&&(this.calendarDatesEl.querySelector(".selected")?.classList.remove("selected"),t.classList.add("selected"),this.selectedDate={data:new Date(s(this,a).year,s(this,a).month,t.dataset.date),year:s(this,a).year,month:s(this,a).month,date:t.dataset.date},this.setDateInput(),this.calendarEl.classList.remove("active"))}formateDate(e){let t=e.getDate();t<10&&(t=`0${t}`);let i=e.getMonth()+1;return i<10&&(i=`0${i}`),`${e.getFullYear()}/${i}/${t}`}moveToNextMonth(){s(this,a).month++,s(this,a).month>11&&(s(this,a).month=0,s(this,a).year++),this.updateMonth(),this.updateDates()}moveToPrevMonth(){s(this,a).month--,s(this,a).month<0&&(s(this,a).month=11,s(this,a).year--),this.updateMonth(),this.updateDates()}toggleCalendar(){this.calendarEl.classList.contains("active")&&r(this,a,{...this.selectedDate}),this.calendarEl.classList.toggle("active"),this.updateMonth(),this.updateDates()}updateMonth(){this.monthContentEl.textContent=`${s(this,a).year} ${this.monthData[s(this,a).month]}`}updateDates(){this.calendarDatesEl.innerHTML="";const e=new Date(s(this,a).year,s(this,a).month+1,0).getDate(),t=new DocumentFragment;for(let i=0;i<e;i++){const h=document.createElement("div");h.classList.add("date"),h.textContent=i+1,h.dataset.date=i+1,t.appendChild(h)}t.firstChild.style.gridColumnStart=new Date(s(this,a).year,s(this,a).month,1).getDay()+1,this.calendarDatesEl.appendChild(t),this.colorSaturday(),this.colorSunday(),this.markToday(),this.markSelectedDate()}markSelectedDate(){this.selectedDate.year===s(this,a).year&&this.selectedDate.month===s(this,a).month&&this.calendarDatesEl.querySelector(`[data-date='${this.selectedDate.date}']`).classList.add("selected")}markToday(){const e=new Date,t=e.getMonth(),i=e.getFullYear(),h=e.getDate();i===s(this,a).year&&t===s(this,a).month&&this.calendarDatesEl.querySelector(`[data-date='${h}']`).classList.add("today")}colorSaturday(){const e=this.calendarDatesEl.querySelectorAll(`.date:nth-child(7n+${7-new Date(s(this,a).year,s(this,a).month,1).getDay()})`);for(let t=0;t<e.length;t++)e[t].style.color="blue"}colorSunday(){const e=this.calendarDatesEl.querySelectorAll(`.date:nth-child(7n+${(8-new Date(s(this,a).year,s(this,a).month,1).getDay())%7})`);for(let t=0;t<e.length;t++)e[t].style.color="red"}}a=new WeakMap,new DatePicker;
